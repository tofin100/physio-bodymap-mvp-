<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kintaro • BodyMap (Front) — SVG Layer Web-App</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div class="brandText">
        <div class="title">Kintaro BodyMap</div>
        <div class="subtitle">Front • SVG-Layer • Klick • Voice (Demo) • Session</div>
      </div>
    </div>

    <div class="right">
      <div class="chip"><span class="dot"></span><span>Prototype • GitHub-ready</span></div>
      <a class="btn ghost" href="https://github.com/" target="_blank" rel="noreferrer">GitHub</a>
    </div>
  </header>

  <main class="shell">
    <aside class="panel">
      <div class="panelHead">
        <div class="panelTitle">Controls</div>
        <button class="btn danger small" id="btnReset">Reset</button>
      </div>

      <section class="block">
        <div class="blockTitle">Layer</div>
        <div class="toggles">
          <label class="toggle"><input type="checkbox" id="togSil" checked><span>Silhouette</span></label>
          <label class="toggle"><input type="checkbox" id="togBones" checked><span>Knochen</span></label>
          <label class="toggle"><input type="checkbox" id="togMuscles" checked><span>Muskeln</span></label>
          <label class="toggle"><input type="checkbox" id="togNerves"><span>Nerven</span></label>
          <label class="toggle"><input type="checkbox" id="togMarkers" checked><span>Marker</span></label>
        </div>

        <div class="row gap">
          <div class="field">
            <label>Isolate</label>
            <select id="selIsolate">
              <option value="mix">Mix (Premium Dim)</option>
              <option value="muscles">Nur Muskeln</option>
              <option value="bones">Nur Knochen</option>
              <option value="nerves">Nur Nerven</option>
              <option value="markers">Nur Marker</option>
            </select>
          </div>
          <div class="field">
            <label>Session</label>
            <input type="range" min="1" max="6" value="1" id="rngSession" />
            <div class="mini" id="lblSession">Session 1</div>
          </div>
        </div>

        <div class="row">
          <div class="field grow">
            <label>Intensität</label>
            <input type="range" min="1" max="10" value="6" id="rngIntensity" />
            <div class="mini" id="lblIntensity">6 / 10</div>
          </div>
        </div>
      </section>

      <section class="block">
        <div class="blockTitle">Search</div>
        <div class="row">
          <input id="txtSearch" type="text" placeholder="z. B. brachialis, humerus, quadrizeps…" />
        </div>
        <div class="row gap">
          <button class="btn small" id="btnFind">Highlight</button>
          <button class="btn small ghost" id="btnClear">Clear</button>
        </div>
        <div class="hint">IDs sind der Schlüssel: Voice → Normalisierung → <span class="mono">structure</span> → Region.</div>
      </section>

      <section class="block">
        <div class="blockTitle">Voice (Simulation)</div>
        <input id="txtVoice" type="text" placeholder='z. B. "Brachialis rechts Schmerz 6/10 distal"' />
        <div class="row gap">
          <button class="btn" id="btnRunVoice">Anwenden</button>
          <button class="btn ghost" id="btnExample">Beispiel</button>
        </div>
        <div class="hint">Parser ist bewusst simpel – zeigt den Flow: Struktur erkennen → Layer ggf. aktivieren → einfärben + optional Pin + Notiz.</div>
      </section>

      <section class="block">
        <div class="blockTitle">Note</div>
        <textarea id="txtNote" placeholder="Druckschmerz distal, Supination triggert…"></textarea>
        <div class="row gap">
          <button class="btn" id="btnSaveNote">Speichern</button>
          <button class="btn danger ghost" id="btnDeleteSel">Auswahl löschen</button>
        </div>
        <div class="hint">Speichert Demo-Markierungen in <span class="mono">localStorage</span> (nur im Browser). In echt: pro Patient/Session im Backend.</div>
      </section>

      <section class="block">
        <div class="blockTitle">Status</div>
        <div class="status" id="statusBox">
          Klick auf eine Struktur (Muskel/Knochen/Nerv) oder nutze Voice/Suche.
          <div class="mini" style="margin-top:8px">
            Quickkeys: <span class="kbd">Esc</span> Clear • <span class="kbd">Enter</span> Voice anwenden
          </div>
        </div>
      </section>
    </aside>

    <section class="stageWrap">
      <div class="stageHead">
        <div class="stageTitle">BodyMap • Front</div>
        <div class="stageBadges">
          <span class="badge">SVG-Layer</span>
          <span class="badge">Click-to-highlight</span>
          <span class="badge">Session</span>
        </div>
      </div>

      <div class="stage">
        <div class="watermark">Kintaro Demo • Front</div>
        <div class="svgHost" id="svgHost"></div>
      </div>

      <div class="marks">
        <div class="marksHead">
          <div class="marksTitle">Session-Markierungen</div>
          <span class="badge">lokal gespeichert</span>
        </div>
        <div class="marksList" id="listMarks"></div>
      </div>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>